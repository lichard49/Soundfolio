function checkForm(form){if(form.password.value!==""){if(form.password.value.length<6){alert("Error: Password must contain at least six characters!");form.pwd1.focus();return false;}
re=/[0-9]/;if(!re.test(form.password.value)){alert("Error: password must contain at least one number (0-9)!");form.pwd1.focus();return false;}
re=/[a-z]/;if(!re.test(form.password.value)){alert("Error: password must contain at least one lowercase letter (a-z)!");form.pwd1.focus();return false;}else{alert("Error: Please check that you've entered and confirmed your password!");form.pwd1.focus();return false;}
return true;}}
function addEmployeeFields(){var idNo=$("#add-more-employees div.row").length+1;$("#add-more-employees").append("<h3>Employee "+idNo+"</h3> \
    <div class=\"row\"> \
      <div class=\"large-6 columns\"><input type=\"text\" placeholder=\"E-mail\" name=\"email"+idNo+"\" class=\"form-control\" required></div> \
      <div class=\"large-6 columns\"><input type=\"text\" placeholder=\"Name\" name=\"name"+idNo+"\" class=\"form-control\" required></div> \
    </div>");}
var _debug=false;var _placeholderSupport=function(){var t=document.createElement("input");t.type="text";return(typeof t.placeholder!=="undefined");}();window.onload=function(){$("body,html").on("click",function(){console.log("clicked on body");});var arrInputs=document.getElementsByTagName("input");var arrTextareas=document.getElementsByTagName("textarea");var combinedArray=[];for(var i=0;i<arrInputs.length;i++){combinedArray.push(arrInputs[i]);}
for(var i=0;i<arrTextareas.length;i++){combinedArray.push(arrTextareas[i]);}
for(var i=0;i<combinedArray.length;i++){var curInput=combinedArray[i];if(!curInput.type||curInput.type==""||curInput.type=="text"||curInput.type=="textarea")
HandlePlaceholder(curInput);else if(curInput.type=="password")
ReplaceWithText(curInput);}
if(!_placeholderSupport){for(var i=0;i<document.forms.length;i++){var oForm=document.forms[i];if(oForm.attachEvent){oForm.attachEvent("onsubmit",function(){PlaceholderFormSubmit(oForm);});}
else if(oForm.addEventListener)
oForm.addEventListener("submit",function(){PlaceholderFormSubmit(oForm);},false);}}};function PlaceholderFormSubmit(oForm){for(var i=0;i<oForm.elements.length;i++){var curElement=oForm.elements[i];HandlePlaceholderItemSubmit(curElement);}}
function HandlePlaceholderItemSubmit(element){if(element.name){var curPlaceholder=element.getAttribute("placeholder");if(curPlaceholder&&curPlaceholder.length>0&&element.value===curPlaceholder){element.value="";window.setTimeout(function(){element.value=curPlaceholder;},100);}}}
function ReplaceWithText(oPasswordTextbox){if(_placeholderSupport){return;}
var oTextbox=document.createElement("input");oTextbox.type="text";oTextbox.id=oPasswordTextbox.id;oTextbox.name=oPasswordTextbox.name;oTextbox.className=oPasswordTextbox.className;for(var i=0;i<oPasswordTextbox.attributes.length;i++){var curName=oPasswordTextbox.attributes.item(i).nodeName;var curValue=oPasswordTextbox.attributes.item(i).nodeValue;if(curName!=="type"&&curName!=="name"){oTextbox.setAttribute(curName,curValue);}}
oTextbox.originalTextbox=oPasswordTextbox;oPasswordTextbox.parentNode.replaceChild(oTextbox,oPasswordTextbox);HandlePlaceholder(oTextbox);if(!_placeholderSupport){oPasswordTextbox.onblur=function(){if(this.dummyTextbox&&this.value.length===0){this.parentNode.replaceChild(this.dummyTextbox,this);}};}}
function HandlePlaceholder(oTextbox){if(!_placeholderSupport){var curPlaceholder=oTextbox.getAttribute("placeholder");if(curPlaceholder&&curPlaceholder.length>0){Debug("Placeholder found for input box '"+oTextbox.name+"': "+curPlaceholder);oTextbox.value=curPlaceholder;oTextbox.setAttribute("old_color",oTextbox.style.color);oTextbox.style.color="#c0c0c0";oTextbox.onfocus=function(){var _this=this;if(this.originalTextbox){_this=this.originalTextbox;_this.dummyTextbox=this;this.parentNode.replaceChild(this.originalTextbox,this);_this.focus();}
Debug("input box '"+_this.name+"' focus");_this.style.color=_this.getAttribute("old_color");if(_this.value===curPlaceholder){_this.value="";}};oTextbox.onblur=function(){var _this=this;Debug("input box '"+_this.name+"' blur");if(_this.value===""){_this.style.color="#c0c0c0";_this.value=curPlaceholder;}};}else{Debug("input box '"+oTextbox.name+"' does not have placeholder attribute");}}else{Debug("browser has native support for placeholder");}}
function Debug(msg){if(typeof _debug!=="undefined"&&_debug){var oConsole=document.getElementById("Console");if(!oConsole){oConsole=document.createElement("div");oConsole.id="Console";document.body.appendChild(oConsole);}
oConsole.innerHTML+=msg+"<br />";}}
$(document).ready(function(){$("#outside_email input").attr('placeholder','{{form.email.label}}');$("#outside_password input").attr('placeholder','{{form.password.label}}');var banks=new Bloodhound({datumTokenizer:function(datum){return Bloodhound.tokenizers.whitespace(datum.value);},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:'/searchForBankByName/?query=%QUERY',wildcard:'%QUERY',filter:function(data){return data['banks'];}},});banks.initialize();var $bankSearchBar=$('#bank-search-bar');$bankSearchBar.typeahead(null,{limit:30,displayKey:function(object){return object['value'];},source:banks.ttAdapter(),templates:{empty:['<div class="empty-message">','no results found','</div>'].join('\n'),suggestion:function(suggestion){var returnValue=['<div>','<div class="row bank-actual-name">','<div class="large-7 medium-7 small-7 columns">','<h4>'+suggestion.value+'</h4>','</div>','<div class="large-5 medium-5 small-5 columns">','<h4>'+suggestion.data['city']+', '+suggestion.data['state']+'</h4>','</div>','</div>','<hr>','</div>'].join('\n');return returnValue;},}}).bind('typeahead:selected',function(obj,datum){$("#bank-idrssd").val(datum['data']['idrssd']);$(".tt-dataset.tt-dataset-0").empty();});});